{"ast":null,"code":"import API from 'goals-todos-api';\nexport var ADD_TODO = 'ADD_TODO';\nexport var REMOVE_TODO = 'REMOVE_TODO';\nexport var TOGGLE_TODO = 'TOGGLE_TODO';\n\nfunction addTodo(todo) {\n  return {\n    type: ADD_TODO,\n    todo: todo\n  };\n}\n\nfunction removeTodo(id) {\n  return {\n    type: REMOVE_TODO,\n    id: id\n  };\n}\n\nfunction toggleTodo(id) {\n  return {\n    type: TOGGLE_TODO,\n    id: id\n  };\n} //asynchrounous action creators\n\n\nexport function handleDeleteTodo(todo) {\n  return function (dispatch) {\n    dispatch(removeTodo(todo.id));\n    return API.deleteTodo(todo.id).catch(function () {\n      dispatch(addTodo(todo));\n      alert('An error occurred. Try again.');\n    });\n  };\n}\nexport function handleAddTodo(name, callback) {\n  return function (dispatch) {\n    return API.saveTodo(name).then(function (todo) {\n      dispatch(addTodo(todo));\n      callback();\n    }).catch(function () {\n      return alert('There was an error');\n    });\n  };\n}\nexport function handleToggleTodo(id) {\n  return function (dispatch) {\n    dispatch(toggleTodo(id));\n    return API.saveTodoToggle(id).catch(function () {\n      dispatch(toggleTodo(id));\n      alert('An error occurred. Try again.');\n    });\n  };\n}","map":{"version":3,"sources":["/Users/lukemiller/Desktop/Luke/React/Redux/goals-todos/src/actions/todos.js"],"names":["API","ADD_TODO","REMOVE_TODO","TOGGLE_TODO","addTodo","todo","type","removeTodo","id","toggleTodo","handleDeleteTodo","dispatch","deleteTodo","catch","alert","handleAddTodo","name","callback","saveTodo","then","handleToggleTodo","saveTodoToggle"],"mappings":"AAAA,OAAOA,GAAP,MAAgB,iBAAhB;AAEA,OAAO,IAAMC,QAAQ,GAAG,UAAjB;AACP,OAAO,IAAMC,WAAW,GAAG,aAApB;AACP,OAAO,IAAMC,WAAW,GAAG,aAApB;;AAEP,SAASC,OAAT,CAAkBC,IAAlB,EAAwB;AACpB,SAAO;AACHC,IAAAA,IAAI,EAAEL,QADH;AAEHI,IAAAA,IAAI,EAAJA;AAFG,GAAP;AAIH;;AACD,SAASE,UAAT,CAAqBC,EAArB,EAAyB;AACrB,SAAO;AACHF,IAAAA,IAAI,EAAEJ,WADH;AAEHM,IAAAA,EAAE,EAAFA;AAFG,GAAP;AAIH;;AACD,SAASC,UAAT,CAAqBD,EAArB,EAAyB;AACrB,SAAO;AACHF,IAAAA,IAAI,EAAEH,WADH;AAEHK,IAAAA,EAAE,EAAFA;AAFG,GAAP;AAIH,C,CACD;;;AACA,OAAO,SAASE,gBAAT,CAA2BL,IAA3B,EAAiC;AACpC,SAAO,UAACM,QAAD,EAAc;AACjBA,IAAAA,QAAQ,CAACJ,UAAU,CAACF,IAAI,CAACG,EAAN,CAAX,CAAR;AACA,WAAOR,GAAG,CAACY,UAAJ,CAAeP,IAAI,CAACG,EAApB,EACFK,KADE,CACI,YAAK;AACRF,MAAAA,QAAQ,CAACP,OAAO,CAACC,IAAD,CAAR,CAAR;AACAS,MAAAA,KAAK,CAAC,+BAAD,CAAL;AACH,KAJE,CAAP;AAKH,GAPD;AAQH;AACD,OAAO,SAASC,aAAT,CAAwBC,IAAxB,EAA8BC,QAA9B,EAAwC;AAC3C,SAAO,UAACN,QAAD,EAAc;AACjB,WAAOX,GAAG,CAACkB,QAAJ,CAAaF,IAAb,EACFG,IADE,CACG,UAACd,IAAD,EAAU;AACZM,MAAAA,QAAQ,CAACP,OAAO,CAACC,IAAD,CAAR,CAAR;AACAY,MAAAA,QAAQ;AACX,KAJE,EAKFJ,KALE,CAKI;AAAA,aAAMC,KAAK,CAAC,oBAAD,CAAX;AAAA,KALJ,CAAP;AAMH,GAPD;AAQH;AACD,OAAO,SAASM,gBAAT,CAA2BZ,EAA3B,EAA8B;AACjC,SAAO,UAACG,QAAD,EAAc;AACjBA,IAAAA,QAAQ,CAACF,UAAU,CAACD,EAAD,CAAX,CAAR;AACA,WAAOR,GAAG,CAACqB,cAAJ,CAAmBb,EAAnB,EACFK,KADE,CACI,YAAK;AACRF,MAAAA,QAAQ,CAACF,UAAU,CAACD,EAAD,CAAX,CAAR;AACAM,MAAAA,KAAK,CAAC,+BAAD,CAAL;AACH,KAJE,CAAP;AAKH,GAPD;AAQH","sourcesContent":["import API from 'goals-todos-api'\n\nexport const ADD_TODO = 'ADD_TODO'\nexport const REMOVE_TODO = 'REMOVE_TODO'\nexport const TOGGLE_TODO = 'TOGGLE_TODO'\n\nfunction addTodo (todo) {\n    return {\n        type: ADD_TODO,\n        todo,\n    }\n}\nfunction removeTodo (id) {\n    return {\n        type: REMOVE_TODO,\n        id,\n    }\n}\nfunction toggleTodo (id) {\n    return {\n        type: TOGGLE_TODO,\n        id,\n    }\n}\n//asynchrounous action creators\nexport function handleDeleteTodo (todo) {\n    return (dispatch) => {\n        dispatch(removeTodo(todo.id))\n        return API.deleteTodo(todo.id)\n            .catch(()=> {\n                dispatch(addTodo(todo))\n                alert('An error occurred. Try again.')\n            })\n    }\n}\nexport function handleAddTodo (name, callback) {\n    return (dispatch) => { \n        return API.saveTodo(name)\n            .then((todo) => {\n                dispatch(addTodo(todo))\n                callback()\n            })\n            .catch(() => alert('There was an error'))\n    }\n}\nexport function handleToggleTodo (id){\n    return (dispatch) => {\n        dispatch(toggleTodo(id))\n        return API.saveTodoToggle(id)\n            .catch(()=> {\n                dispatch(toggleTodo(id))\n                alert('An error occurred. Try again.')\n            })\n    }\n}"]},"metadata":{},"sourceType":"module"}